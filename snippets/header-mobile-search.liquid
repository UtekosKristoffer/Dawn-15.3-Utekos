<details-modal class='header__search'>
  <details>
    <summary
      class='
        header__icon header__icon--search header__icon--summary link
        focus-inset motion-reduce modal__toggle
      '
      aria-haspopup='dialog'
      aria-label='{{ 'general.search.search' | t }}'
    >
      <span>
        <span class='svg-wrapper'>
          {{- 'icon-search.svg' | inline_asset_content -}}
        </span>
        <span class='header__icon-close hidden bg-transparent cursor-pointer open:inline-flex'>
          {{- 'icon-close.svg' | inline_asset_content -}}
        </span>
      </span>
    </summary>
    <div
      class='search-modal modal__content gradient'
      role='dialog'
      aria-modal='true'
      aria-label='{{ 'general.search.search' | t }}'
    >
      <div class='modal-overlay'></div>
      <div
        class='search-modal__content search-modal__content-top'
        tabindex='-1'
      >
        <predictive-search
          class='search-modal__form'
          data-loading-text='{{ 'accessibility.loading' | t }}'
        >
          <form
            action='{{ routes.search_url }}'
            method='get'
            role='search'
            class='search search-modal__form'
          >
            <div class='field'>
              <input
                class='search__input field__input'
                id='Search-In-Modal-1'
                type='search'
                name='q'
                value='{{ search.terms | escape }}'
                placeholder='{{ 'general.search.search' | t }}'
                role='combobox'
                aria-expanded='false'
                aria-owns='predictive-search-results'
                aria-controls='predictive-search-results'
                aria-haspopup='listbox'
                aria-autocomplete='list'
                autocorrect='off'
                autocomplete='off'
                autocapitalize='off'
                spellcheck='false'
              >
              <label class='field__label' for='{{ input_id }}'>
                {{ 'general.search.search' | t }}
              </label>
              <input type='hidden' name='options[prefix]' value='last'>
              <button
                type='reset'
                class='reset__button field__button{% if search.terms == blank %} hidden{% endif %}'
                aria-label='{{ 'general.search.reset' | t }}'
              >
                <span class='svg-wrapper'>
                  {{- 'icon-reset.svg' | inline_asset_content -}}
                </span>
              </button>
              <button
                class='search__button field__button'
                aria-label='{{ 'general.search.search' | t }}'
              >
                <span class='svg-wrapper'>
                  {{- 'icon-search.svg' | inline_asset_content -}}
                </span>
              </button>
            </div>

            <div
              class='predictive-search predictive-search--header'
              tabindex='-1'
              data-predictive-search
            >
              {%- render 'loading-spinner', class: 'predictive-search__loading-state' -%}
            </div>

            <span
              class='predictive-search-status visually-hidden'
              role='status'
              aria-hidden='true'
            ></span>
          </form>
        </predictive-search>
        <button
          type='button'
          class='search-modal__close-button modal__close-button link link--text focus-inset'
          aria-label='{{ 'accessibility.close' | t }}'
        >
          <span class='svg-wrapper'>
            {{- 'icon-close.svg' | inline_asset_content -}}
          </span>
        </button>
      </div>
    </div>
  </details>
</details-modal>
